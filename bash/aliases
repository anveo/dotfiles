# Utility
alias reload='source ~/dotfiles/bash/aliases'

# cd
alias ..='cd ..'
alias cdd='cd -'

function take() {
  mkdir -p "$1"
  cd "$1"
}

# file manager
alias n="nautilus"

# grep
if which ack-grep 1>/dev/null
then
  alias ack="ack-grep"
fi
alias grep='grep --color=auto'
alias g="find . -type f |xargs grep --exclude=\*.svn\* -n 2> /dev/null "

# diff
if which colordiff 1>/dev/null
then
  alias diff="colordiff"
fi

#history
alias h="history"

# ls
alias ls="ls -F --color=auto"
alias l="ls -lAh"
alias ll="ls -l"
alias la="ls -A"
alias sl="ls"

# git
alias gl='git pull'
alias gp='git push'
alias gd='git diff'
alias gc='git commit'
alias gca='git commit -a'
alias gco='git checkout '
alias go='git checkout '
alias gb='git branch'
alias gs='git status'
alias gst='git status'
alias grm="git status | grep deleted | awk '{print \$3}' | xargs git rm"
alias gg="gitg&"
#alias gae="for i in $(find . -type d -regex ``./[^.].*'' -empty); do touch $i\"/.gitignore\"; done;"
# fat fingers
alias got='git '
alias get='git '

# Setup a tracking branch from [remote] [branch_name]
function gbt() {
  git branch --track $2 $1/$2 && git checkout $2
}

# Processes
alias k9="killall -9"
function killnamed () { 
    ps ax | grep $1 | cut -d ' ' -f 2 | xargs kill 
}

# Clojure
alias clj=clj-env-dir

# Ruby
alias r="rake"

# rails
alias sc='script/console'
alias ss='script/server'
alias sg='script/generate'
alias a='autotest -rails'
alias tlog='tail -f log/development.log'
alias scaffold='script/generate nifty_scaffold'
alias migrate='rake db:migrate db:test:clone'
alias rst='touch tmp/restart.txt'

# projects
alias cdbw='cd ~/projects/local/bandwith'
alias cdbwr='cd ~/projects/local/bandwithradio'
alias cdec='cd ~/projects/local/ecollect'
alias cdfb='cd ~/projects/local/fontbros'
alias cdll='cd ~/projects/local/listedlocal'
alias cdv1='cd ~/projects/local/volumeone'
alias cdv2='cd ~/projects/local/volumetwo'
alias cdyb='cd ~/projects/local/yayboo'
alias cdyt='cd ~/projects/local/yaptime'

# OSX specific
if [ `uname` == 'Darwin' ]; then
  # We need gui support for plugins
  alias vi='mvim -v'

  # no --color option
  alias ls="ls -F -G"

  alias lamp='cd /Applications/XAMPP'
else
  alias pbcopy='xclip -selection clipboard'
  alias pbpaste='xclip -selection clipboard -o'
  # Or
  # alias pbcopy='xsel --clipboard --input'
  # alias pbcopy='xsel --clipboard --output'
  
  # OSX like `open` command, alternatives might be xdg-open and see
  alias open='gnome-open'
  alias ']'='gnome-open'
  alias 'o'='gnome-open'
fi

# Show what is taking up space
alias diskspace="du -S | sort -n -r |more"

# Show me the size (sorted) of only the folders in this directory
alias folders="find . -maxdepth 1 -type d -print | xargs du -sk | sort -rn"

# Easy archive extraction
extract () {
  if [ -f $1 ] ; then
    case $1 in
      *.tar.bz2)   tar xvjf $1    ;;
  *.tar.gz)    tar xvzf $1    ;;
  *.bz2)       bunzip2 $1     ;;
  *.rar)       unrar x $1       ;;
  *.gz)        gunzip $1      ;;
  *.tar)       tar xvf $1     ;;
  *.tbz2)      tar xvjf $1    ;;
  *.tgz)       tar xvzf $1    ;;
  *.zip)       unzip $1       ;;
  *.Z)         uncompress $1  ;;
  *.7z)        7z x $1        ;;
  *)           echo "don't know how to extract '$1'..." ;;
  esac
  else
    echo "'$1' is not a valid file!"
      fi
}
alias xtract="extract"
